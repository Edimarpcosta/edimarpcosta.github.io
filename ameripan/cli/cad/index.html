<!DOCTYPE html>
<html>
<head>
  <title>Cadastro de Endereços</title>
</head>
<body>
  <input type="text" id="name" placeholder="Nome">
  <input type="text" id="address" placeholder="Endereço">
  <input type="submit" value="Cadastrar" onclick="gravar()">

  <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-database.js"></script>
  <script>
const firebaseConfig = {
  apiKey: "AIzaSyAdUfTSjOesN3a_7ajFa1BAJjIass9h6L0",
  authDomain: "redireciona-bf04a.firebaseapp.com",
  databaseURL: "https://redireciona-bf04a-default-rtdb.firebaseio.com",
  projectId: "redireciona-bf04a",
  storageBucket: "redireciona-bf04a.appspot.com",
  messagingSenderId: "95966901521",
  appId: "1:95966901521:web:2d0b8b20dbb1c356d688b0",
  measurementId: "G-Z3LV16X6Y4"
};

firebase.initializeApp(firebaseConfig);

const locationsRef = firebase.database().ref('locations');

function gravar() {
  const name = document.getElementById('name').value;
  const address = document.getElementById('address').value;

  // Verifica se o nome já existe em `locations`.
  const location = locationsRef.child(name).once('value', (snapshot) => {
    if (snapshot.exists()) {
      // O nome já existe. Pergunta ao usuário se ele deseja substituí-lo.
      const confirm = window.confirm(`O Cliente ${name} já existe. Deseja substituí-lo?`);
      if (confirm) {
        locationsRef.child(name).set({
          name,
          address
        });
      } else {
        return;
      }
    } else {
      // O nome não existe. Adiciona-o a `locations`.
      locationsRef.child(name).set({
        name,
        address
      });
    }
  });
}
</script>


   
</body>
</html>
